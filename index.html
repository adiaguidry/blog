<!DOCTYPE html>
<html data-ng-app="blogApp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
    <script src="https://code.angularjs.org/1.3.15/angular-route.js"></script>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular-animate.min.js"></script>-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="pagestyles.css">
    <script src="controllers/module.js"></script>
    <script src="controllers/routes.js"></script>
    <script src="controllers/login.js"></script>
</head>
<body>
<div class="container-fluid container-main" data-ng-controller="loginCtrl as lc">


    <div class="divnav" data-ng-controller="logoutCtrl as lg">

        <nav class="nav nav-pills nav-stacked col-xs-1">
            <img src="images/tree-logo.png" alt="tree logo" class="login-logo small">
            <h1 class="title">Blog Tree</h1>
            <div class="container-fluid">
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav side-nav">
                        <li><a href="#blog">Home</a></li>
                        <li><a href="#profile">Profile</a></li>
                        <li><a href="#create">Create</a></li>
                        <li><button type="button" class="sign-out" data-ng-click="lg.signOut()">Sign Out</button></li>

                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <div class="left-div col-xs-5 pull-left">
        <img src="images/tree-logo.png" alt="tree logo" class="login-logo move pull-right">
        <h1 class="title under-tree clearfix pull-right">Blog Tree</h1>
    </div>

    <div class="right-div col-xs-7 pull-right">
        <button type="button" class="sign-up" data-toggle="modal" data-target="#registerModal">Sign Up</button>

        <form role="form" method="POST" action="php/login_user.php" class="form login-form col-xs-6 pull-left" novalidate>
            <input type="text" class="email form-control" name="email" placeholder="Enter Email" data-ng-model="email"
                   pattern="^(([a-zA-Z]|[0-9])|([-]|[_]|[.]))+[@](([a-zA-Z0-9])|([-])){2,63}[.](([a-zA-Z0-9]){2,63})+$"
                   title="Please enter a valid email">
            <input type="password" class="password form-control" name="password" Placeholder="Enter Password"
                   data-ng-model="password" pattern="^(?=.*[a-zA-Z]{1,})(?=.*[\d]{0,})[a-zA-Z0-9]{3,20}$"
                   title="Password must be between 8 and 20 characters">
            <button type="button" class="btn btn-lg login-btn pull-right" data-ng-click="lc.userLogin(email,password)">Login</button>
                                    <!-- lc.test()-->
        </form>
    </div>
    <div class="view" data-ng-view>
    </div>

    <!-- line modal -->
    <div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true"
         data-ng-controller="modalCtrl as mc">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true" class="x">Ã—</span>
                        <span class="sr-only">Close</span></button>
                    <h3 class="modal-title" id="lineModalLabel">My Modal</h3>
                </div>
                <div class="modal-body">

                    <!-- content goes here -->
                    <form role="form" method="POST" class="modal-form" action="php/register_user.php" novalidate>
                        <div class="form-group">
                            <label for="inputName1">Username</label>
                            <input type="text" class="form-control" id="inputName1" data-ng-model="regName" placeholder="Enter username">
                        </div>
                        <div class="form-group">
                            <label for="inputEmail1">Email address</label>
                            <input type="email" class="form-control" id="inputEmail1" data-ng-model="regEmail"
                                   pattern="^(([a-zA-Z]|[0-9])|([-]|[_]|[.]))+[@](([a-zA-Z0-9])|([-])){2,63}[.](([a-zA-Z0-9]){2,63})+$"
                                   title="Please enter a valid email" placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="inputPassword1">Password</label>
                            <input type="password" class="form-control" id="inputPassword1" data-ng-model="regPass"
                                   pattern="^(?=.*[a-zA-Z]{1,})(?=.*[\d]{0,})[a-zA-Z0-9]{8,20}$"
                                   title="Invalid characters. Password must be between 8 and 20 characters." placeholder="Enter password">
                        </div>
                        <div class="form-group">
                            <label for="inputFile">Profile image</label>
                            <input type="file" id="inputFile" data-ng-model="regi.pic">
                            <p class="help-block">Choose your profile picture.</p>
                        </div>
                    </form>

                </div>
                <div class="modal-footer">
                    <div class="btn-group btn-group-justified" role="group" aria-label="group button">
                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" data-dismiss="modal"  role="button">Close</button>
                        </div>

                        <div class="btn-group" role="group">
                            <button type="button" class="btn btn-default" data-ng-click="mc.userRegister(regName, regEmail, regPass)" data-dismiss="modal">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><!--  end modal  -->

</div>
</body>
</html>